<script>
    const arrows = document.querySelectorAll('button.slick-arrow');
    var arrowButtonCheck = true;
    arrows.forEach((arrow) => {
      arrow.addEventListener('click', function () {
        if (arrowButtonCheck) {
          arrowButtonCheck = false;
          clearInterval(slide);
          bannerWrap.style.transition = 'transform 0.5s';
          let arrowType = arrow.classList[1];
          if (arrowType == 'Pre') {
            count--;
            if (count == 0) {
              bannerWrap.style.transform = 'translate(-' + 1500 * count + 'px)';
              setTimeout(function () {
                bannerWrap.style.transition = 'transform 0s';
                bannerWrap.style.transform = 'translate(-12000px)';
              }, 500);
              count = 8;
            } else {
              bannerWrap.style.transform = 'translate(-' + 1500 * count + 'px)';
            }
          } else {
            count++;
            if (count == 9) {
              bannerWrap.style.transform = 'translate(-' + 1500 * count + 'px)';
              setTimeout(function () {
                bannerWrap.style.transition = 'transform 0s';
                bannerWrap.style.transform = 'translate(-1500px)';
              }, 500);
              count = 1;
            } else {
              bannerWrap.style.transform = 'translate(-' + 1500 * count + 'px)';
            }
          }
          // temp.style.backgroundColor = "#f0f0f0";
          // temp = buttons[count];
          // buttons[count].style.backgroundColor = "black";
          swiperCurrent.innerHTML = `${count}`;
          slide = setInterval(autoSlide, 5000);
          setTimeout(function () {
            arrowButtonCheck = true;
          }, 500);
        }
      });
    });
</script>
<script>
    function open_modal() {

        modal.style.display = 'block';
    }

    function all_check(num) {
        page = 0;
        modal_close();

        let allCitySpan = allCity.querySelector('span');
        allCitySpan.style.color = '#004DF7';
        allCity.classList.add('modal-selected');
        let name = num === 0 ? '지역선택' : allCitySpan.innerText;

        change_name(name);
        fetch_data( name );

        let color = num === 0 ? '#737373' : 'black';

        cityName.style.color = color;


    }

    function modal_close() {
        modal.style.display = 'none';
        list_clear();

        //리스트 색상 초기화
        $list_modal.each((i, list_li) => {
            let $list_li = $(list_li);
            $list_modal.removeClass("modal-list-activate");
        });

    }

    const liList = document.querySelectorAll('.parent');
    function list_open() {
        for (let i = 0; i < liList.length; i++) {
            let id = '.level' + String(i);
            let obj = document.querySelectorAll(id);
            liList[i].addEventListener("click", function (e) {
                obj.forEach((item) => {
                    if (item.style.display === "none" || item.style.display === "") {
                        item.addEventListener("click", function (e) {
                            let detailCheck = document.querySelectorAll('.modal-selected');


                            detailCheck.forEach((item) => {
                                item.classList.remove('modal-selected');
                                item.querySelector('span').style.color = '#323232';
                            });
                            html ='';
                            page=0;
                            fetch_data(item.innerText);
                            change_name(item.innerText);
                            item.style.color = '#004DF7';
                            item.classList.add('modal-selected');

                        });
                        item.style.display = "block";
                    } else {
                        item.style.display = "none";
                    }
                });
            });
        }
    }
</script>
<script>
    function list_clear() {
        for (let i = 0; i < liList.length; i++) {
            let id = '.level' + String(i);
            let obj = document.querySelectorAll(id);
            obj.forEach((item) => {
                item.style.display = "none";
            });

        }
    }
</script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
      const button = document.getElementById("go-to-write");
      const footer = document.getElementById("__end");

      const footerTop = footer.getBoundingClientRect().top;
      const buttonInitialBottom = parseInt(getComputedStyle(button).bottom, 10);

      function updateButtonPosition() {
        const footerPosition = footer.getBoundingClientRect().top;

        if (footerPosition <= window.innerHeight) {
          const offset = Math.max(footerTop - footerPosition, 0);
          button.style.bottom = `${buttonInitialBottom + offset}px`;
        } else {
          button.style.bottom = `${buttonInitialBottom}px`;
        }
      }

      window.addEventListener("scroll", updateButtonPosition);
      window.addEventListener("resize", updateButtonPosition);
    });
</script>
<script>
document.querySelectorAll(".group-tab").forEach(item => {
    item.addEventListener("click", function(event) {
        var clickedValue = event.target.getAttribute("data-value");
        fetch('//', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': '{{ csrf_token }}'
            },
            body: JSON.stringify({ value: clickedValue })
        })
        .then(response => response.json())
        .then(data => {
            console.log('Value saved:', data);

            // 페이지 전환
            window.location.href = '/more/';  // 원하는 다른 페이지로 이동
        });
    });
});

</script>
